<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="layouts/base-layout::head">
    <meta charset="UTF-8">
    <title>Pizarra - Intervenciones</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>

<body>
<div class="container mt-5">
	<div class="row form-group">
        <form action="#" th:action="@{/intervenciones/vista_intervenciones}" method="get">
            <input type="date" style="width : 350px" class="form-control col-md-7" name="fechaFiltro"/>
        	<button type="submit" class="btn btn-primary r">Filtrar</button>
    	</form>
    </div>
    <table class="table">
        <thead class="thead-dark">
        <tr>
            <th scope="col">Fecha de inicio</th>
            <th scope="col">Fecha de fin</th>
            <th scope="col">Paciente</th>
            <th scope="col">Profesional</th>
            <th scope="col">Quirofano</th>
            <th scope="col">Descripcion</th>
            <th scope="col">Estado</th>
            <th scope="col">Editar</th>
            <th scope="col">Borrar</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="intervencion : ${intervenciones}">
            <td th:text="${intervencion.fechaHoraInicio}"></td>
            <td th:text="${intervencion.fechaHoraFin}"></td>
            <td th:text="${intervencion.paciente}"></td>
            <td th:text="${intervencion.profesional}"></td>
            <td th:text="${intervencion.quirofano.nombre}"></td>
            <td th:text="${intervencion.descripcion}"></td>
            <td th:if="${intervencion.estado == true}">Realizada</td>
            <td th:unless="${intervencion.estado == true}">Pendiente</td>
            <td><a th:href="@{/intervenciones/editar/{id}(id=${intervencion.id})}">X</a></td>
            <td><a th:href="@{/intervenciones/borrar/{id}(id=${intervencion.id})}">X</a></td>
        </tr>
        </tbody>
    </table>
    
    <form action="#" th:action="@{/intervenciones/reg_intervencion}" method="get">
        <button type="submit" class="btn btn-primary r">Regsitrar Intervencion</button>
    </form>
    <br>
    <form action="#" th:action="@{/intervenciones/matriz_intervenciones}" method="get">
        <button type="submit" class="btn btn-primary r">Ver Matriz de Intervenciones</button>
    </form>
    <br>
    <form action="#" th:action="@{/usuarios/inicio_usuarios}" method="get">
        <button type="submit" class="btn btn-primary" name="sesion">Volver al inicio</button>
    </form>
    <form th:action="@{/logout}" method="post">
        <button type="submit" class="btn btn-primary mt-3">Salir</button>
    </form>
</div>
</body>
</html>